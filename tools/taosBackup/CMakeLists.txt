# CMAKE_MINIMUM_REQUIRED(VERSION 3.0)

IF (${CMAKE_SYSTEM_NAME} MATCHES "Linux" OR ${CMAKE_SYSTEM_NAME} MATCHES "Darwin")
    find_package(PkgConfig REQUIRED)

    IF (${CMAKE_SYSTEM_NAME} MATCHES "Darwin")
        SET(OS_INFO "Darwin")
    ENDIF ()
ENDIF ()

SET(EXECUTABLE_OUTPUT_PATH ${CMAKE_BINARY_DIR}/build/bin)

IF (${VERBOSE} MATCHES "true")
    SET(CMAKE_VERBOSE_MAKEFILE ON)
ENDIF ()

ADD_SUBDIRECTORY(src)

# add test
IF(TD_LINUX)
    # unit test
    IF(${BUILD_TEST})
        ADD_SUBDIRECTORY(test)
    ENDIF(${BUILD_TEST})    
ENDIF()