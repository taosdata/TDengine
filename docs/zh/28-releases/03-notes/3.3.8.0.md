---
title: 3.3.8.0 版本说明
sidebar_label: 3.3.8.0
description: 3.3.8.0 版本说明
---

## 特性

  1. 特性：支持 Rollup SMA
  2. 特性：使用重构后的流计算重新实现 TSMA
  3. 特性：TDgpt 支持 PROPHET 算法
  4. 特性：TDgpt 支持 Pearson 相关系数计算函数
  5. 特性：TDgpt 支持数据补全功能
  6. 特性：支持 if、isnull、isnotnull、nvl、collesce、nullif、ifnull 函数
  7. 特性：支持 std、variance、stddev_samp、var_samp、group_concat 函数
  8. 特性：支持 find_in_set、like_in_set、regexp_in_set 函数
  9. 特性：支持 date 函数
 10. 特性：支持 TLS 证书认证传输
 11. 特性：partition by tag 支持字符串运算
 12. 特性：state_window 支持状态窗口起止点配置
 13. 特性：state_window 支持对 state 列进行运算
 14. 特性：流计算支持 delete_output_table 选项
 15. 特性：流计算支持识别虚拟表变更
 16. 特性：流计算支持通知过滤机制
 17. 优化：流计算支持在 notify 语句中使用列别名
 18. 特性：支持通过 scan 命令扫描时序数据文件的完整性
 19. 特性​​：浮点数支持 ​​BSS（Byte-Stream-Split）字节流分割编码
 20. 特性：C 连接器性能压测工具
 21. 特性：Rust 连接器支持 WebSocket 连接级别时区设置
 22. 特性：Explorer 支持上报指标
 23. 特性：JDBC WebSocket 连接支持配置多端点负载均衡
 24. 特性：JDBC 支持高效探活减少查询
 25. 特性：taosX Kafka 连接器支持获取并解析 Key
 26. 特性：taosX 性能测试报告

## 优化

1. 优化：提升流计算的计算性能
2. 优化：调整 Balance Vgroup Leader 命令的执行逻辑，使 VGroup 的 Leader 分布更加均匀
3. 优化：增加 show ssmigrate 命令用于查看共享存储迁移进度
4. 优化：支持对双副本数据库使用 REDISTRIBUTE 命令
5. 优化：分离数据查询和元数据查询处理线程
6. 优化：提升 event_window 按 tbname 分组查询的效率
7. 优化：STMT2 支持 Decimal 数据类型
8. 优化：Windows 下 taos shell 命令行支持参数值紧跟参数名称
9. 优化：taosX Agent 在服务端连接断开后默认始终重连
10. 优化：优化 C WebSocket STMT2 写入性能
11. 优化：Explorer InfluxDB 数据源新增调优参数
12. 优化：taosX 启动时优化 Sqlite 数据库已降低磁盘占用和加速查询
13. 优化：缓存 License 检查结果以减少同一数据源 License 查询次数
14. 优化：taosAdapter 添加 CPU 占用率指标
15. 优化：taosgen 支持 TDengine 写入器使用独立队列
16. 优化：Explorer OPCDA 支持配置 contains_bad 参数
17. 优化：Adapter 优化订阅参数错误
18. 优化：修改 Explorer 默认 DB 参数 vgroups=4, duration=10d
19. 优化：调整标准差计算方法，避免可能的数值溢出
20. 优化：UDT 解析是预览页面能够显示所有值为 NULL 的字段
21. 优化：Explorer 创建数据库允许配置 replica 参数
22. 优化：Adapter 记录 SQL 到 CSV 增加 appName 和来源端口
23. 优化：UDT Rhai 脚本运行时提示报错信息

## 修复

  1. 修复：流计算中表名和标签长度越界错误
  2. 修复：数据订阅无法获取流计算生成的普通表创建事件
  3. 修复：超级虚拟表调用 forecast 函数失败的问题
  4. 修复：taosX 特殊参数（sparse+realtime+stables）写入报错：No valid epSet
  5. 修复：InfluxDB 任务完成后 taosX-influxdb 进程未退出
  6. 修复：Agent 活动记录刷新结果不符合预期
  7. 修复：部分列写入目标表未生效
  8. 修复：流计算开启 ignore_disorder 选项时 watermark 判断错误的问题
  9. 修复：Windows 下使用相同的随机数种子 RAND 返回不同的值
 10. 修复：使用不同的编译器时 leastsquares 函数的输出不一致
 11. 修复：虚拟表触发且有 tbname 作为 prefilter 时的崩溃问题
 12. 修复：windows 下数据和日志路径不一致的问题
 13. 修复：WebSocket taos_close 连接未关闭
 14. 修复：C ws 使用与 C native 同名日志文件
 15. 修复：STMT 查询错误引发的内存泄漏
 16. 修复：taosAdapter JSON 序列化包含非预期的转义
 17. 修复：Explorer 创建 PI 任务失败
 18. 修复：流计算开启 FILL_HISTORY 选项时第一个窗口计算错误的问题
 19. 修复：流计算的手工重算逻辑错误
 20. 修复：流计算中数据乱序、数据删除时计算结果错误的问题
 21. 修复：Rust 连接器 consumer.recv_timeout 导致阻塞
 22. 修复：STMT2 绑定空 nchar 类型数据时报错
 23. 修复：云服务 taosX 联通性检查 License 问题
 24. 修复：Varchar 类型复合主键在查询时被 commit 线程 suspend 导致的 crash 问题
 25. 修复：taosX/Explorer 监控在 Linux 下占用过多文件句柄
 26. 修复：Rust WebSocket 连接器 timeout=never 时 poll 5 秒后超时
 27. 修复：并发执行大量 last 查询时导致 taosd 崩溃的问题
 28. 修复：cols 函数在获取多个时间戳时返回错误结果
 29. 修复：Explorer 不再支持流计算创建对话框（仅支持 SQL）
 30. 修复：TDgpt 并发预测时可能失败
 31. 修复：解决了 ss_keeplocal 参数无法设置为 1440m 的问题
 32. 修复：Explorer 权限管理异常修复
 33. 修复：TDLite 版本 taosX_sys 不存在时不必提示错误
 34. 修复：taosX InfluxDB 任务显示停止中一直无法停止
 35. 修复：Explorer 数据库名明确区分大小写
 36. 修复：Explorer 格式化 SQL 语句收藏无法区分大小写
 37. 修复：InfluxDB 迁移多个 tag 下的相同时间戳时缺少数据
 38. 修复：Explorer 修改 PRIMARY KEY 为 COMPOSITE KEY
 39. 修复：taosAdapter 未持续上报指标
 40. 修复：ODBC ADO UPDATE 写入微秒数据时间精度错误
 41. 修复：Kafka SASL 认证任务升级后连通性检查失败
 42. 修复：多个 InfluxDB 任务并发出现死锁
 43. 修复：Explorer 修改 Payload 内容预览包含旧的字段
 44. 修复：执行共享存储迁移时文件组不存在导致的 core
 45. 修复：taosBenchmark non_stop_mode=yes 时 interlace_rows 参数失效
 46. 修复：订阅超时处理导致备份时末尾文件缺失
 47. 修复：taosX 恢复任务无法取消
