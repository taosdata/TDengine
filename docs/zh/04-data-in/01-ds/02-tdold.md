---
sidebar_label: TDengine 2.x
title: “TDengine 2.x”数据源
description: 使用“TDengine 2.x”数据源导入数据到 TDengine Cloud 的实例
---

TDengine 2.x 的数据写入，是通过查询方式把数据从边缘侧 TDengine 2.x 服务器写入到当前选择的 TDengine Cloud 实例。

## 先决条件

- 边缘侧的 TDengine 服务器版本必须是 2.6 版本。
- 服务器已经开放 6030 的端口，并允许任何 IP 访问。
- 用户需要在数据源的 TDengine 里面创建相应的主题，该主题可以是一个或多个数据库，或超级表或普通表。

## 具体步骤

1. 在 TDengine Cloud 中，在左边菜单中打开 **数据写入** 页面，在 **数据源** 选项卡上，单击 **添加数据源**打开新增页面。在**名称**输入框里面填写这个数据源的名称，并选择**TDengine 2.x**类型。
2. 在**目标数据库**里面选择一个当前所在的 TDengine Cloud 实例里面的数据库作为目标数据库。
3. 在**连接协议**栏中，配置连接协议，可配置为 WS、WSS。
4. 在**服务器**栏中配置远端边缘侧或者 TDengine Cloud 的其他实例的 IP 或域名。
5. 在**端口**栏中配置连接的端口号。
6. 在**数据库**栏中，配置可以配置远端边缘侧 TDengine 服务器上面的一个数据库名称。
7. 在**用户名**栏中，配置访问远端边缘侧 TDengine 服务器的用户名，默认值为 root。
8. 在**Password**栏中，配置访问远端边缘侧 TDengine 服务器的密码，默认值为 taosdata。
9. 可以点击**连通性检查**, 检查 Cloud 实例与其他实例之间是否可以连通。
10. 在**迁移模式**栏中，在**Mode**分栏里面配置迁移模式，可以选择迁移历史数据（history），实时数据（realtime）或者两者都选（both）；在**表结构**分栏，配置是否迁移表结构，可以选择总是迁移（always），不迁移（none）或者只迁移新的（only）。
11. 在**超级表**栏中，可以配置一个或者多个超级表；在**表**栏中，可以单独配置子表和普通表，支持 tb1 形式的表名或 stable.table 形式的子表名。如果不配置会迁移已配置超级表下面所以的子表数据。
12. 在**开始时间**栏配置迁移数据开始的时间，然后在**结束时间**栏里面配置迁移数据结束的时间，最后在**查询单元**栏配置查询数据的基本单元，长时间范围的查询会以此为依据切割为多次查询。可以设置 0s，5s，1m 等，支持单位 ms（毫秒），s（秒），m（分钟），h（小时），d（天），M（月），y（年）。
13. 在**实时同步**栏里面的配置仅在**迁移模式**设置成实时同步（realtime）模式下有效。在**回溯**分栏里面可以设置回溯的时间，可以设置 5s，10m 等。在**间隔**分栏里面可以设置间隔的实际时间，可以设置 5s，10m 等。在**乱序**分栏里面可以设置等待乱序数据入库后查询的时间，可以设置 500ms，10s 等。这三个栏目可以支持的单位 ms（毫秒），s（秒），m（分钟），h（小时），d（天），M（月）。
14. 填写完成以上信息后，点击**新增**按钮，即可直接启动从 TDengine 2.x 到 TDengine Cloud 实例的数据同步。
