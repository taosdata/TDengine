
# cjson

set(_base         "${TD_CONTRIB_DIR}/cJSON")
set(_ins          "${TD_CONTRIB_DIR}/cJSON/install")

ExternalProject_Add(ext_cjson
        GIT_REPOSITORY https://github.com/taosdata-contrib/cJSON.git
        GIT_TAG v1.7.15
        PREFIX "${_base}"
        CMAKE_ARGS -DCMAKE_INSTALL_PREFIX:STRING=${_ins}
        CMAKE_ARGS -DCMAKE_BUILD_TYPE:STRING=Release
        CMAKE_ARGS -DENABLE_CJSON_TEST:BOOL=OFF
        CMAKE_ARGS -DCJSON_OVERRIDE_BUILD_SHARED_LIBS:BOOL=ON
        CMAKE_ARGS -DCJSON_BUILD_SHARED_LIBS:BOOL=OFF
        GIT_SHALLOW true
        EXCLUDE_FROM_ALL true
        )

set(TD_CONTRIB_EXT_CJSON_INC_DIR "${_ins}/include" PARENT_SCOPE)
set(TD_CONTRIB_EXT_CJSON_LIB_DIR "${_ins}/lib" PARENT_SCOPE)

