
# lz4

set(_base         "${TD_CONTRIB_DIR}/ext_lz4")
set(_ins          "${TD_CONTRIB_DIR}/ext_lz4/install")

ExternalProject_Add(ext_lz4
        GIT_REPOSITORY https://github.com/taosdata-contrib/lz4.git
        GIT_TAG v1.9.3
        PREFIX "${_base}"
        # SOURCE_DIR "${_base}"
        SOURCE_SUBDIR "build/cmake"
        CMAKE_ARGS -DCMAKE_INSTALL_PREFIX:STRING=${_ins}
        CMAKE_ARGS -DCMAKE_BUILD_TYPE:STRING=Release
        CMAKE_ARGS -DBUILD_SHARED_LIBS:BOOL=OFF
        CMAKE_ARGS -DBUILD_STATIC_LIBS:BOOL=ON
        GIT_SHALLOW true
        EXCLUDE_FROM_ALL true
        )

set(TD_CONTRIB_EXT_LZ4_INC_DIR "${_ins}/include" PARENT_SCOPE)
set(TD_CONTRIB_EXT_LZ4_LIB_DIR "${_ins}/lib" PARENT_SCOPE)

