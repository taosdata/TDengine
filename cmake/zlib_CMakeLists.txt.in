
# zlib

set(_base         "${TD_CONTRIB_DIR}/zlib")
set(_ins          "${TD_CONTRIB_DIR}/zlib/install")

ExternalProject_Add(ext_zlib
        GIT_REPOSITORY https://github.com/taosdata-contrib/zlib.git
        GIT_TAG v1.2.11
        PREFIX "${_base}"
        CMAKE_ARGS -DCMAKE_INSTALL_PREFIX:STRING=${_ins}
        CMAKE_ARGS -DCMAKE_BUILD_TYPE:STRING=Release
        CMAKE_ARGS -DCMAKE_C_FLAGS:STRING=-fPIC
        GIT_SHALLOW true
        EXCLUDE_FROM_ALL true
        )

set(TD_CONTRIB_EXT_ZLIB_INC_DIR "${_ins}/include" PARENT_SCOPE)
set(TD_CONTRIB_EXT_ZLIB_LIB_DIR "${_ins}/lib" PARENT_SCOPE)

